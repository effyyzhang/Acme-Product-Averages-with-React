<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script crossorigin src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react-router-dom/5.0.1/react-router-dom.js"></script>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.js"></script>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.0/axios.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Work+Sans:400,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <title>Acme Product Averages with React</title>
</head>
<body>
<div id="root">
</div>
<script type='text/babel'>
const {render} = ReactDOM
const {Component} = React
const {HashRouter, NavLink, Switch, Route, Redirect} = ReactRouterDOM
const root = document.querySelector('#root')

const Home = () => {
    return(
        <h1>Home</h1>
    )
}

const Product = ({products}) => {
    return(

        <h1>{products}</h1>
    )
}

class App extends Component{
    constructor(){
        super();
        this.state = {
            products: []
        };
    }

    ComponentDidMount(){
        const url = 'https://acme-users-api-rev.herokuapp.com/api';
        axios.get(`${url}/products`)
        .then((response)=>{
            console.log({response});
        })
        // axios.all([
        //     axios.get(`${url}/products`),
        //     axios.get(`${url}/offerings`)
        // ]).then(
        //     axios.spread((products, offerings) => {
        //         this.setState({
        //             products: products.data,
        //             offerings: offerings.data
        //         })
        //     })
        // )
    }

    render(){
        return(
            <HashRouter>
                <nav>
                <h1>ACME Product Averages with React</h1>
                <ul>
                    <NavLink to = '/home' activeClassName = 'selected' >Home</NavLink>
                    <NavLink to = '/products' activeClassName = 'selected' >Product</NavLink>
                </ul>
                </nav>
                <Switch>
                    <Route path='/home' render = { () => <Home /> } />
                    <Route path='/products' render = { () => <Product /> } />
                    <Redirect to="/home" />
                </Switch>
            </HashRouter>
        )
    } 
}
render( <App />, root );
</script>
</body>
</html>
